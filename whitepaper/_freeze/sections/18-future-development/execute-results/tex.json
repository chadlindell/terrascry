{
  "hash": "9c75a95fc115f859eaf015f01d8f8a7c",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Future Development\"\n---\n\n## Overview {#sec-future-overview}\n\nThis document has focused on **hardware and field methods**. The next phase involves **software development** for data processing, inversion, and visualization, as well as continued hardware improvements.\n\nThe software development is **explicitly separate** from the hardware/field guide presented in this document. The hardware system is designed to collect high-quality data that can be processed with standard or custom software tools.\n\n## Development Roadmap {#sec-development-roadmap}\n\nThe HIRT project follows a phased development approach, with parallel tracks for software and hardware improvements. The timeline below illustrates the planned progression from basic data processing to advanced visualization and machine learning capabilities.\n\n::: {.cell execution_count=2}\n\n::: {.cell-output .cell-output-display}\n![Development roadmap showing software phases (top track) and hardware improvements (bottom track). Key milestones include Alpha (v0.1) at month 3, Beta (v0.5) at month 6, and full Release (v1.0) at month 12.](18-future-development_files/figure-pdf/fig-development-roadmap-output-1.png){#fig-development-roadmap}\n:::\n:::\n\n\n## Firmware Development (Phase 2) {#sec-firmware-development}\n\nThe HIRT hardware system requires embedded firmware to operate. This firmware development is explicitly **Phase 2** of the project---the hardware design documented in this whitepaper can be built and bench-tested, but firmware is required for integrated field operation.\n\n### Firmware Scope and Architecture {#sec-firmware-scope}\n\n| Module | Function | Priority |\n|--------|----------|----------|\n| **DDS Control** | AD9833 SPI initialization, frequency programming, multi-frequency sweep | Core |\n| **ADC Interface** | ADS1256 SPI driver, differential sampling, data buffering | Core |\n| **Lock-In DSP** | Digital IQ demodulation, amplitude/phase extraction | Core |\n| **Multiplexer Control** | CD74HC4067 address sequencing, probe selection logic | Core |\n| **ERT Sequencer** | Current source control, polarity reversal timing, compliance monitoring | Core |\n| **USB Data Logger** | Real-time CSV streaming, measurement timestamping | Secondary |\n| **Configuration UI** | Serial command interface, parameter storage | Secondary |\n\n: Firmware module breakdown and priorities {#tbl-firmware-modules}\n\n### Target Platform: ESP32\n\nThe hardware design specifies the **ESP32-WROOM-32** module as the MCU platform, selected for:\n\n- Dual-core 240 MHz processor (adequate for lock-in DSP)\n- Built-in WiFi/BLE for future wireless data transfer\n- 520 KB SRAM for measurement buffering\n- Arduino and ESP-IDF toolchain support\n- Wide availability and low cost (<$5 per module)\n\n### Firmware Repository Status\n\n::: {.callout-note}\n## Current Status: Not Yet Published\n\nFirmware development is scheduled to begin after hardware validation is complete. The planned repository location is:\n\n**Planned Repository:** `github.com/hirt-project/hirt-firmware`\n\nContributors interested in early development should contact the project maintainers. Firmware will be released under MIT License to match the hardware documentation.\n:::\n\n### Bench Testing Without Firmware {#sec-bench-testing-no-firmware}\n\nBuilders can validate hardware subsystems before firmware is available:\n\n1. **DDS Testing:** Use Arduino Uno with AD9833 library to verify sine wave generation\n2. **ADC Testing:** Use Arduino with ADS1256 library to verify signal acquisition\n3. **Coil Testing:** Apply known signal to TX coil, measure RX coil with oscilloscope\n4. **ERT Current Source:** Verify compliance voltage and current accuracy with resistor loads\n5. **Multiplexer Testing:** Manually step through channels with GPIO to verify routing\n\nThese individual tests confirm hardware function before integrated firmware is available.\n\n## Software Development Pipeline {#sec-software-pipeline}\n\n### Data QA/QC (Quality Assurance/Quality Control) {#sec-data-qaqc}\n\nThe first stage of the processing pipeline involves comprehensive data validation and quality control:\n\n- Import CSV data files with automatic format detection\n- Check for missing or corrupted data entries\n- Verify reciprocity (A to B approximately equals B to A)\n- Remove outliers and flag suspicious measurements for review\n- Generate data quality metrics and visualization reports\n\n### MIT Inversion {#sec-mit-inversion}\n\nMagnetic Induction Tomography inversion converts amplitude and phase measurements to conductivity distributions:\n\n- Forward modeling: Predict measurements from conductivity model\n- Inverse modeling: Reconstruct conductivity from measurements\n- Multi-frequency handling for depth resolution\n- Regularization for stable, physically meaningful solutions\n- Uncertainty quantification for reliability assessment\n\n### ERT Inversion {#sec-ert-inversion}\n\nElectrical Resistivity Tomography inversion converts voltage/current measurements to resistivity volumes:\n\n- DC resistivity forward solver (finite element/difference)\n- Inversion algorithm with Gauss-Newton or Occam's method\n- Electrode position and depth accounting\n- Topography handling for non-flat surfaces\n- Cross-borehole measurement geometry support\n\n### Data Fusion {#sec-data-fusion}\n\nCombining MIT and ERT data provides complementary information:\n\n- Co-registration of MIT and ERT volumes\n- Unified 3D model generation\n- Overlay capabilities with GPR, magnetometry, photogrammetry data\n- Multi-parameter visualization and interpretation\n\n## Feature Priority Matrix {#sec-feature-priority}\n\nFeatures are prioritized based on user impact versus implementation effort. Quick wins (high impact, low effort) receive immediate attention, while major projects are scheduled according to available resources and dependencies.\n\n::: {.cell execution_count=3}\n\n::: {.cell-output .cell-output-display}\n![Feature priority matrix categorizing development items by implementation effort (x-axis) and user impact (y-axis). Bubble size indicates relative priority. Quick wins include data QA/QC and basic visualization; major projects include MIT/ERT inversion and 3D visualization.](18-future-development_files/figure-pdf/fig-feature-priority-output-1.png){#fig-feature-priority}\n:::\n:::\n\n\n## Software Architecture {#sec-software-architecture}\n\n### Language and Library Considerations {#sec-language-considerations}\n\nThe software stack is designed for scientific computing efficiency and accessibility:\n\n| Language | Strengths | Considerations |\n|----------|-----------|----------------|\n| Python | Scientific libraries, community support | Primary development language |\n| MATLAB | Powerful, well-documented | Requires license |\n| C++ | High performance | Core algorithm optimization |\n| Hybrid | Best of both worlds | Python high-level, C++ intensive computation |\n\n: Language options for software development {#tbl-language-options}\n\n### Key Libraries and Tools {#sec-key-libraries}\n\n| Library/Tool | Purpose | Notes |\n|--------------|---------|-------|\n| NumPy/SciPy | Numerical computing | Foundation for all calculations |\n| VTK/ParaView | 3D visualization | Professional rendering |\n| PyVista | Python 3D visualization | VTK wrapper for ease of use |\n| ResIPy/pyGIMLi | ERT inversion | Existing mature tools |\n| SimPEG | EM modeling and inversion | Comprehensive framework |\n\n: Recommended libraries and tools for HIRT software {#tbl-libraries-tools}\n\n## Planned Hardware Improvements {#sec-hardware-improvements}\n\n### Wireless Probes {#sec-wireless-probes}\n\nWireless communication would significantly reduce cable management complexity and enable faster deployment:\n\n- LoRa or BLE communication protocols under evaluation\n- Balance power consumption versus convenience\n- Maintain data integrity and timing synchronization\n- Consider field-replaceable battery modules\n\n### Higher Channel Count {#sec-higher-channels}\n\n- Increased probe density for finer resolution\n- Modular expansion through daisy-chaining\n- Enhanced multiplexing architecture\n- Scalable from 4 to 16+ probes\n\n### Real-time Processing {#sec-realtime-processing}\n\n- Process data during collection\n- Enable adaptive survey strategies\n- Immediate quality feedback in the field\n- Requires edge computing capability (e.g., Raspberry Pi, Jetson)\n\n## Forward Modeling and Validation {#sec-forward-modeling}\n\nBefore field deployment, the HIRT system response should be validated using synthetic models. Recommended tools include:\n\n| Tool | Focus | Strengths | URL |\n|------|-------|-----------|-----|\n| SimPEG | MIT + ERT | Full forward/inverse modeling, Python | [simpeg.xyz](https://simpeg.xyz) |\n| pyGIMLi | ERT-focused | Excellent visualization, mature | [pygimli.org](https://pygimli.org) |\n| empymod | 1D layered EM | Fast, accurate for stratified media | [empymod.emsig.xyz](https://empymod.emsig.xyz) |\n\n: Recommended forward modeling tools {#tbl-forward-modeling}\n\n### HIRT-Relevant Tutorials and Workflows {#sec-relevant-tutorials}\n\nThe following tutorials from these packages are directly applicable to HIRT data processing:\n\n**SimPEG Tutorials:**\n\n- *DC Resistivity 3D Inversion* - Demonstrates `Simulation3DCellCentered` for borehole data\n- *OcTree Mesh for DC/IP* - Efficient mesh refinement near electrodes\n- *Electrode Draping* - Handles topography with `drape_electrodes_on_topography`\n\n**pyGIMLi Tutorials:**\n\n- *Crosshole ERT* - Published example with 144 electrodes across 9 boreholes, 1,256 measurements\n- *Timelapse ERT* - `CrossholeERT` class for temporal monitoring applications\n- *Regularization Options* - zWeight adjustment for anisotropic smoothing\n\n**empymod Applications:**\n\n- Loop source modeling for 2-50 kHz range (HIRT operating frequencies)\n- Layered-earth forward modeling validates HIRT physics assumptions\n- In-phase/Quadrature decomposition: Real component = resistive response, Imaginary component = inductive response\n\n### Data Export Integration Path {#sec-export-integration}\n\nHIRT field data should be exported in standard formats compatible with inversion packages:\n\n1. **HIRT Field Data** (.csv) - Raw measurements from probes\n2. **Format Conversion** - Python script transforms to target format\n3. **Target Formats:**\n   - SimPEG: Survey + Data objects\n   - pyGIMLi: DataContainerERT\n   - empymod: 1D layered parameters\n4. **Inversion / Forward Modeling** - Run with chosen package\n5. **Output:** 3D Model + Uncertainty Estimates\n\n### Open-Source Hardware Reference: OhmPi {#sec-ohmpi-reference}\n\nThe OhmPi project ([ohmpi.org](https://ohmpi.org)) provides a valuable reference design for open-source resistivity instrumentation:\n\n| Specification | OhmPi | HIRT ERT |\n|--------------|-------|----------|\n| Architecture | Raspberry Pi + ADS1115 ADC | Custom MCU + ADC |\n| Channels | 32 electrodes standard | Scalable, 4+ probes |\n| Current range | 0.1-80 mA | 0.5-2 mA (safety limited) |\n| Voltage range | 0.001-12 V | Similar |\n| Cost | <$500 (32 channel) | Target similar |\n| Philosophy | Open-source, DIY | Open-source, DIY |\n\n: Comparison of OhmPi and HIRT ERT specifications {#tbl-ohmpi-comparison}\n\nOhmPi demonstrates that research-grade resistivity measurements are achievable with commodity electronics. Their Raspberry Pi architecture and ADS1115 ADC approach may inform future HIRT development, particularly for the base station/hub electronics.\n\n### Standard Validation Scenarios {#sec-validation-scenarios}\n\nFour standard scenarios are recommended for system validation:\n\n1. **Aluminum Bomb in Sandy Loam:** 1m diameter sphere at 3m depth in 0.1 S/m soil - validates MIT response to non-ferrous UXO\n2. **Grave Shaft (Disturbed Fill):** 0.8x0.5x1.5m prism with 0.05 S/m fill in 0.2 S/m clay - validates ERT contrast detection\n3. **Scattered Aircraft Debris:** Multiple fragments (0.2-1m) at 1-4m depths - validates MIT multi-target discrimination\n4. **Bomb Crater with Heterogeneous Fill:** 8m diameter, 5m deep crater with variable conductivity - tests combined MIT+ERT response\n\n## Known Limitations {#sec-known-limitations}\n\n::: {.callout-note}\n## Technical Limitations\n\n- Smaller coil area results in ~19 dB SNR loss (compensated by longer integration)\n- Survey time increases 5-10x compared to commercial systems\n- Post-processing software required for 3D reconstruction\n- Limited depth penetration in highly conductive soils\n:::\n\n::: {.callout-note}\n## Current System Constraints\n\n- Electronics SNR adequate for detection but compromised for precise characterization\n- Phase accuracy: +/-5 degrees (vs. commercial +/-0.5 degrees)\n- Noise floor: ~100 nV (vs. commercial ~10 nV)\n:::\n\n## Machine Learning Opportunities {#sec-machine-learning}\n\nMachine learning presents opportunities for automated analysis and interpretation:\n\n- **Anomaly detection:** Automatically identify targets of interest\n- **Classification:** Distinguish metal vs. void vs. disturbed soil\n- **Quality assessment:** Predict data quality from acquisition parameters\n- **Parameter estimation:** Estimate target properties (size, depth, conductivity)\n\n::: {.callout-tip}\n## Note\nMachine learning integration requires labeled training data from both synthetic forward models and validated field measurements.\n:::\n\n## Documentation Needs {#sec-documentation-needs}\n\n### User Documentation {#sec-user-docs}\n\n- Processing workflow guide with step-by-step instructions\n- Parameter selection guidelines for different survey types\n- Interpretation guide with example datasets\n- Troubleshooting common issues\n\n### Technical Documentation {#sec-tech-docs}\n\n- Algorithm descriptions with mathematical derivations\n- Code documentation (docstrings, API reference)\n- Validation studies with synthetic and field data\n- Performance benchmarks for different hardware configurations\n\n## Software References {#sec-software-references}\n\n1. Cockett, R., Kang, S., Heagy, L. J., Pidlisecky, A., & Oldenburg, D. W. (2015). SimPEG: An open source framework for simulation and gradient based parameter estimation in geophysical applications. *Computers & Geosciences*, 85, 142-154. [DOI: 10.1016/j.cageo.2015.09.015](https://doi.org/10.1016/j.cageo.2015.09.015)\n\n2. Rücker, C., Günther, T., & Wagner, F. M. (2017). pyGIMLi: An open-source library for modelling and inversion in geophysics. *Computers & Geosciences*, 109, 106-123. [DOI: 10.1016/j.cageo.2017.07.011](https://doi.org/10.1016/j.cageo.2017.07.011)\n\n3. Werthmüller, D. (2017). An open-source full 3D electromagnetic modeler for 1D VTI media in Python: empymod. *Geophysics*, 82(6), WB9-WB19. [DOI: 10.1190/geo2016-0626.1](https://doi.org/10.1190/geo2016-0626.1)\n\n",
    "supporting": [
      "18-future-development_files/figure-pdf"
    ],
    "filters": []
  }
}