{
  "hash": "6013b770435e5781df465132eec15308",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"System Architecture\"\nsubtitle: \"Micro-Probe Design and Zone Wiring Strategy\"\n---\n\n## Design Philosophy {#sec-design-philosophy}\n\n**\"Archaeologist brain first, engineer brain second\"** - This guiding principle shapes every aspect of the HIRT system architecture. The primary goal is to minimize ground disturbance while maintaining sufficient measurement quality for target detection. The result is a probe design with 10-16 mm outer diameter (target: 12-16 mm), representing approximately 10x less ground disturbance than traditional 25+ mm geophysical probes.\n\nThe design philosophy embraces a key constraint: many thin, gentle holes are preferable to fewer large ones. This approach is particularly important for sensitive archaeological contexts where visible disturbance must be minimized and backfilling should leave no lasting trace of the survey.\n\n## Probe Overview (Passive Micro-Probes) {#sec-probe-overview}\n\nEach HIRT probe is fundamentally **passive** - containing no active electronics downhole. Only sensors and wiring reside within the probe body, with all signal conditioning and processing occurring at the central electronics hub. This architecture offers significant advantages in reliability, cost, and field serviceability.\n\n\n\n### MIT Coil Set {#sec-mit-coils}\n\n- **1x TX coil + 1x RX coil** wound on ferrite cores\n- **Ferrite cores:** 6-8 mm diameter x 40-80 mm long\n- **Mounting:** Glued along rod (not in bulky head) for streamlined profile\n- **Orientation:** Orthogonal or slightly separated to reduce direct coupling\n- **Wire:** Fine wire (34-38 AWG), 200-400 turns for adequate signal strength\n\n### ERT-Lite Rings {#sec-ert-rings}\n\n- **2-3 narrow ring electrodes** (3-5 mm wide bands)\n- **Standard positions:** 0.5 m and 1.5 m from tip\n- **Deep extension:** Add third ring at 2.5-3.0 m for longer rods\n- **Material:** Stainless steel or copper foil\n- **Mounting:** Bonded with epoxy, flush with rod surface\n\n### Rod Construction {#sec-rod-construction}\n\n- **Material:** Fiberglass (G10) or carbon-fiber segments\n- **OD:** 10-16 mm (target: 16 mm with flush joints)\n- **Segments:** 50 cm or 100 cm lengths with M12x1.75 threaded couplers\n- **Total depth:** Up to 3 m with coupled segments\n- **Weight:** ~50-100 g per meter (much lighter than 25mm design)\n\n\n\n## Central Electronics Hub {#sec-electronics-hub}\n\nAll active electronics reside in a central hub unit, typically housed in a rugged IP65-rated enclosure. This centralized architecture simplifies probe design, reduces per-probe cost, and enables sophisticated signal processing that would be impractical in distributed electronics.\n\n\n\n### MIT Driver/Receiver {#sec-mit-electronics}\n\n- **Central DDS sine source** (e.g., AD9833) for 2-50 kHz operation\n- **TX driver amplifier** - drives all probe TX coils via trunk cables (10-50 mA)\n- **RX low-noise amplifier chain** - instrumentation amplifier with G=1000\n- **ADC/lock-in detection** - digital synchronous demodulation\n- **MCU** (ESP32 or STM32) for control, DSP, and data acquisition\n\n### ERT System {#sec-ert-electronics}\n\n- **Howland current source** - 0.5-2 mA, programmable via DAC\n- **Polarity reversal** - H-bridge for DC measurements with polarity cycling\n- **Voltage measurement** - differential amplifier (INA128) + 24-bit ADC\n- **Multiplexer** - High-density matrix (CD74HC4067) to switch electrode pairs\n\n### Power and Communications {#sec-power-comms}\n\n- **Power:** 12V or 5V battery pack, 10-20 Ah for full-day field operations\n- **Distribution:** Power remains at hub; only signals traverse trunk cables\n- **Data logging:** USB or WiFi connection to field tablet\n- **Control:** Centralized MCU handles all scheduling and sequencing\n\n## System Block Diagram {#sec-block-diagram}\n\nThe complete HIRT system follows a hierarchical architecture: Central Electronics Hub connects to multiple Zone Hubs via high-density trunk cables, with each Zone Hub serving as a passive breakout for 4 individual probes. This scalable design supports arrays from 4 probes (single zone) to 50+ probes (12+ zones).\n\n\n\n## Scalability Architecture: The Zone Strategy {#sec-zone-strategy}\n\nTo scale the system from a small prototype (4-8 probes) to a field-ready array (20-50+ probes) without creating an unmanageable cable harness, HIRT employs a **Zone Wiring Strategy**. This approach divides the array into logical zones, each containing 4 probes connected through a local Zone Hub.\n\n### The Challenge {#sec-zone-challenge}\n\nA single passive probe requires 8-12 analog conductors (TX coil pair, RX coil pair, 3x ERT rings, Shield, ID). Connecting 25 probes directly to a central hub would require terminating ~250-300 conductors at a single panel, creating severe mechanical congestion and crosstalk risks.\n\n### The Solution: Passive Zone Hubs {#sec-zone-solution}\n\n1. **Probes connect to a local Zone Hub:** A small, passive IP65 box placed on the ground near the probe cluster.\n2. **Zone Hubs connect to the Main Unit:** Via a single high-quality, shielded trunk cable (DB25 or 37-pin connector).\n3. **Central Hub manages Zones:** The hub switches between trunk lines to address specific probes via the multiplexer array.\n\n\n\n\n\n::: {.callout-note}\n## Zone Wiring Benefits & Noise Immunity\n\n- **Modular Deployment:** Setup involves running a few thick cables rather than dozens of thin ones\n- **Signal Integrity:** Trunk cables utilize individual shielded twisted pairs for all analog lines\n- **Noise Rejection:** Differential signaling (balanced TX drive, instrumentation amp RX) rejects common-mode noise\n- **Field Repair:** A damaged probe cable only affects one local zone, not the main harness\n- **Scalability:** Add zones as needed without redesigning the core system\n:::\n\n## Signal Flow Paths {#sec-signal-flow}\n\n### MIT Signal Path {#sec-mit-signal-path}\n\nThe MIT measurement chain begins with the MCU generating a sine wave via Direct Digital Synthesis (DDS), which is converted to analog, filtered, and amplified to drive the TX coil. The induced signal in the RX coil passes through a high-gain amplifier chain before synchronous demodulation extracts amplitude and phase information.\n\n\n\n### ERT Signal Path {#sec-ert-signal-path}\n\nThe ERT system injects a known current (0.5-2 mA) between selected electrode pairs and measures the resulting voltage distribution. A Howland current source provides stable current injection regardless of load impedance, while a precision differential amplifier rejects common-mode noise from the measurement electrodes.\n\n\n\n## Multiplexer Switching Topology {#sec-mux-topology}\n\nThe analog multiplexer array is central to HIRT's ability to address any probe in the array. Using CD74HC4067 16:1 analog multiplexers, the system can route TX drive signals to any probe's TX coil and simultaneously route any RX coil to the receiver chain. Similar switching enables flexible ERT electrode pair selection.\n\n\n\n## Array Configuration Options {#sec-array-configurations}\n\nThe HIRT system supports multiple array geometries optimized for different investigation scenarios. Array configuration affects both lateral resolution and the distribution of ray paths through the target volume. The following standard configurations address common field requirements.\n\n\n\n| Configuration | Best For | Probe Count | Spacing |\n|---------------|----------|-------------|---------|\n| Square Grid | Unknown target locations | 16-36 (4x4 to 6x6) | 1.5-2.0 m |\n| Perimeter | UXO/hazard standoff | 12-16 | 1.5-2.0 m |\n| Dense Center | Known anomaly detail | 17-25 | 0.75-1.0 m center |\n\n: Array configuration selection guide {#tbl-array-configs}\n\n## Insertion Methods {#sec-insertion-methods}\n\nThe slim 16mm probe profile enables multiple insertion methods depending on soil conditions. All methods prioritize minimal disturbance and safe operation.\n\n1. **Hand Auger:** 18-20 mm hand auger creates clearance hole, probe inserted without force\n2. **Pilot Rod:** 8-10 mm steel rod driven to depth, wiggled to ~14 mm, removed before probe insertion\n3. **Direct Push:** In sandy loam, probe may push directly (requires hardened tip)\n4. **Water-Jet:** In sand, water lance fluidizes soil; probe inserted as water drains\n\n::: {.callout-warning}\n## Insertion Safety - UXO Sites\n\n- Never hammer or drive probes directly - use pilot hole methods only\n- Professional EOD clearance required before any insertion operations\n- Maintain 100m exclusion zone during pilot rod operations\n- Use perimeter-only deployment when UXB suspected at center\n:::\n\n## Advantages of Micro-Probe Design {#sec-advantages}\n\n1. **Minimal Intrusion:** ~10x less ground disturbance than 25mm designs\n2. **Easy Insertion:** Lightweight probes (~100g/m) require minimal force\n3. **Better Contact:** Slurry/water in insertion hole improves ERT electrode contact\n4. **Flexible Deployment:** Can achieve denser spacing; easy removal and backfill\n5. **Simplified Electronics:** Centralized hub is easier to maintain; passive probes are more reliable\n6. **Archaeology-Friendly:** Acceptable for sensitive contexts with minimal visual impact\n\n## Software Pipeline Roadmap {#sec-software-roadmap}\n\nWhile this document focuses on hardware, the HIRT system is designed to output data compatible with established open-source inversion frameworks. The 'Stage 2' software pipeline is currently in development to leverage these powerful tools:\n\n- **EIDORS (Electrical Impedance Tomography and Diffuse Optical Tomography Reconstruction Software):** Primary target for MIT-3D image reconstruction using finite element models.\n- **pyGIMLi (Geophysical Inversion and Modeling Library):** Target framework for coupled ERT/MIT inversion and multi-physics mesh generation.\n- **ResIPy:** User-friendly interface for the ERT component processing and inversion.\n\n## References {#sec-architecture-references}\n\n1. Daily, W., Ramirez, A., & Johnson, R. (1998). Electrical impedance tomography of a perchloroethylene release. *Journal of Environmental and Engineering Geophysics*, 2(3), 189-201.\n\n2. Binley, A., & Kemna, A. (2005). DC resistivity and induced polarization methods. In Y. Rubin & S. Hubbard (Eds.), *Hydrogeophysics* (pp. 129-156). Springer.\n\n3. Wait, J. R. (1982). *Geo-Electromagnetism*. Academic Press.\n\n4. Telford, W. M., Geldart, L. P., & Sheriff, R. E. (1990). *Applied Geophysics*. Cambridge University Press.\n\n5. Butler, D. K. (2001). Potential fields methods for location of unexploded ordnance. *The Leading Edge*, 20(8), 890-895.\n\n",
    "supporting": [
      "03-system-architecture_files/figure-html"
    ],
    "filters": [],
    "includes": {}
  }
}