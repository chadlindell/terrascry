{
  "hash": "dff78b7279bf49d2028592f0a5482d8e",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Calibration\"\n---\n\n## Overview {#sec-calibration-overview}\n\nThis section provides detailed calibration procedures for HIRT probes before field deployment. Calibration ensures accurate and consistent measurements across all probes in the array. The dual-channel nature of HIRT (MIT and ERT) requires calibration of both subsystems, along with system-level verification to ensure the complete measurement chain performs within specification.\n\nProper calibration is essential for scientific data quality. Without it, probe-to-probe variations can introduce systematic errors that compromise tomographic reconstruction. The procedures outlined here establish traceability from individual components through to array-level cross-calibration.\n\n## Calibration Principles {#sec-calibration-principles}\n\n### Why Calibrate? {#sec-why-calibrate}\n\n1. **Probe-to-probe consistency** - Ensure all probes give comparable readings under identical conditions\n2. **Accuracy** - Relate measurements to physical units (mH, ohms, volts)\n3. **Drift compensation** - Account for component aging and environmental effects\n4. **Quality assurance** - Verify proper assembly and function before deployment\n\n::: {.cell fig-height='5' fig-width='9' execution_count=2}\n\n::: {.cell-output .cell-output-display}\n![Calibration hierarchy showing the progression from component-level measurements through array-level cross-calibration. Each level builds upon the previous, increasing overall system confidence.](calibration_files/figure-pdf/fig-calibration-hierarchy-output-1.png){#fig-calibration-hierarchy}\n:::\n:::\n\n\n### Key Parameters and Tolerances {#sec-key-parameters}\n\n| Parameter | Target | Tolerance | Measurement Freq |\n|-----------|--------|-----------|------------------|\n| Coil Inductance | 1.5 mH (Target) | +/-10% | 1 kHz |\n| Coil Q Factor @ 2 kHz | >=25 (Target) | Minimum | 2 kHz |\n| Coil Q Factor @ 10 kHz | >=30 (Target) | Minimum | 10 kHz |\n| Coil Q Factor @ 50 kHz | >=20 (Target) | Minimum | 50 kHz |\n| Coil DC Resistance | <8 ohm (Target) | Maximum | DC |\n| Self-Resonant Freq | >200 kHz (Target) | Minimum | VNA sweep |\n| TX-RX Coupling | <-40 dB (Target) | Maximum | 10 kHz |\n| DDS Frequency | Commanded | +/-1% (Target) | All |\n| TX Amplitude | Design spec | +/-10% (Target) | All |\n| RX Gain | Design spec | +/-10% (Target) | All |\n| ERT Current | Commanded | +/-5% (Target) | DC |\n| Reciprocity | A->B = B->A | +/-5% (Target) | All |\n\n: Calibration parameters and acceptance tolerances. All thresholds are (Target) unless otherwise noted. {#tbl-calibration-params}\n\n### Expected Data Error Thresholds {#sec-error-thresholds}\n\nBased on published practices in the geophysical literature (SimPEG, pyGIMLi), the following measurement repeatability thresholds establish pass/fail criteria for quality control:\n\n| Measurement Type | Expected Error | QC Threshold | Notes |\n|------------------|----------------|--------------|-------|\n| MIT amplitude | 3-5% (Target) | <5% (Target) | Relative measurement-to-measurement |\n| MIT phase | 2-3 deg (Target) | <5 deg (Target) | Absolute phase accuracy |\n| ERT resistance | 3-5% (Target) | <5% (Target) | Relative error typical for DC resistivity |\n| Reciprocity | <3% (Target) | <5% (Target) | A->B vs B->A difference |\n\n: Expected measurement error thresholds for QC pass/fail determination {#tbl-error-thresholds}\n\nThese thresholds are consistent with standard inversion software defaults (e.g., pyGIMLi uses 3% relative error for ERT (Manufacturer spec); SimPEG recommends 5-10% data uncertainty for DC resistivity (Manufacturer spec)). Measurements exceeding these thresholds should be flagged for review and potential re-acquisition.\n\n## Calibration Workflow {#sec-calibration-workflow}\n\nThe calibration workflow proceeds through three main phases: MIT calibration (air baseline, known resistor test, frequency sweep), ERT calibration (ring isolation, contact resistance, current source verification), and target response characterization (metal target tests, distance sweeps, lookup table generation).\n\n::: {.cell fig-height='7' fig-width='10' execution_count=3}\n\n::: {.cell-output .cell-output-display}\n![Complete calibration workflow showing the three-phase approach: MIT calibration (blue), ERT calibration (green), and target response characterization (orange). Checkmarks indicate verification points where data is recorded.](calibration_files/figure-pdf/fig-calibration-workflow-output-1.png){#fig-calibration-workflow}\n:::\n:::\n\n\n## Required Equipment {#sec-calibration-equipment}\n\n| Equipment | Purpose | Notes |\n|-----------|---------|-------|\n| LCR Meter | Coil measurements | Set to 10 kHz |\n| Oscilloscope | Signal verification | 50 MHz minimum (Target) |\n| Multimeter | V/I/R measurements | 6-digit preferred |\n| Function Generator | Signal injection | 1 Hz - 100 kHz |\n| Known Test Targets | Coupling verification | Al plate, steel bar |\n| Test Medium | ERT testing | Sand box, known resistivity |\n| Reference Probe | Cross-calibration | If available |\n\n: Required calibration equipment {#tbl-calibration-equipment}\n\n### Environment Requirements {#sec-environment-requirements}\n\n- Temperature: 20-25C (stable, within +/-2C during calibration) (Target)\n- EMI: Minimize interference sources (turn off nearby equipment, use shielded area)\n- Warm-up time: Allow 15-30 minutes for equipment stabilization (Target)\n- Humidity: <80% RH to prevent condensation on probe surfaces (Target)\n\n## Air Calibration Setup {#sec-air-calibration}\n\nAir calibration establishes the baseline response of the probe when isolated from all external influences. The probe is suspended on a non-metallic stand (wood, PVC, or fiberglass) at least 1 meter (Target) from any metal objects. This measurement provides the 'zero' reference for subsequent target detection.\n\n::: {.cell fig-height='5' fig-width='10' execution_count=4}\n\n::: {.cell-output .cell-output-display}\n![Air calibration test setup showing probe suspended on non-metallic stand with test equipment connections. The 1-meter exclusion zone ensures no spurious coupling from nearby metal objects.](calibration_files/figure-pdf/fig-air-calibration-setup-output-1.png){#fig-air-calibration-setup}\n:::\n:::\n\n\n## Coil Calibration Procedures {#sec-coil-calibration}\n\n### TX Coil Inductance {#sec-tx-inductance}\n\n1. Connect LCR meter to TX coil leads (ensure proper polarity)\n2. Set measurement frequency to 1 kHz (reference frequency)\n3. Measure inductance (L) and record in mH\n4. Compare to specification: target 1.5 mH (Target), tolerance +/-10% (1.35-1.65 mH)\n5. Record Pass/Fail status on calibration sheet\n\n### TX Coil Q Factor (Multi-Frequency) {#sec-tx-q-factor}\n\nThe Q factor must be measured across the full operating frequency range:\n\n| Frequency | Minimum Q | Notes |\n|-----------|-----------|-------|\n| 2 kHz | >=25 (Target) | Deep penetration mode |\n| 10 kHz | >=30 (Target) | Primary operating frequency |\n| 50 kHz | >=20 (Target) | High-resolution mode |\n\n**Procedure:**\n\n1. Using same LCR meter setup as inductance measurement\n2. Measure Q factor at 2 kHz, 10 kHz, and 50 kHz\n3. Alternatively, calculate: $Q = (2\\pi fL) / R$ where R is the measured ESR\n4. All three frequency points must pass minimum Q thresholds\n5. Low Q indicates: winding issues, wrong core material, excessive self-capacitance, or core saturation\n\n**Self-Resonant Frequency Check:**\n\nIf VNA available, sweep 100 kHz - 1 MHz to identify the self-resonant frequency (SRF). Target: SRF > 200 kHz (Target). If SRF falls within operating range (2-50 kHz), the coil must be rewound with single-layer technique to reduce parasitic capacitance.\n\n### RX Coil Parameters {#sec-rx-coil-params}\n\nRepeat the inductance and Q factor measurements for the RX coil. The RX coil specifications should match the TX coil within tolerance to ensure balanced coupling characteristics. Record all measurements on the calibration sheet.\n\n## TX Chain Calibration {#sec-tx-calibration}\n\n### DDS Frequency Accuracy {#sec-dds-frequency}\n\nVerify the DDS (Direct Digital Synthesis) generates correct frequencies across the operating range. Test at: 2, 5, 10, 20, and 50 kHz. Measure each commanded frequency with an oscilloscope and calculate frequency error.\n\n$$\n\\text{Error (\\%)} = \\frac{f_{\\text{actual}} - f_{\\text{commanded}}}{f_{\\text{commanded}}} \\times 100\n$$\n\nExpected accuracy: +/-1% or better (Target). Larger errors indicate DDS programming issues or clock reference problems.\n\n### TX Output Amplitude {#sec-tx-amplitude}\n\n- DDS output: ~0.6 V RMS typical (Modeled) (before driver stage)\n- Driver output: 1-5 V RMS (design dependent) (Target)\n- Gain should be 2-5x across frequency range (Target)\n- Check for flat frequency response (+/-1 dB) (Target)\n\n## RX Chain Calibration {#sec-rx-calibration}\n\n### RX Chain Gain {#sec-rx-gain}\n\nVerify RX amplification chain gain by injecting a known test signal at the RX input and measuring output at each stage. A typical test signal is 1 mV at 10 kHz (Target). Measure at preamp output, instrumentation amplifier output, and ADC input. Calculate gain at each stage and total system gain.\n\n### RX Noise Floor {#sec-rx-noise-floor}\n\n1. Place probe in quiet environment (away from metal objects)\n2. Apply no input signal (or short input terminals)\n3. Measure output noise amplitude over 10-second window\n4. Record multiple measurements and calculate standard deviation\n5. Target: Noise floor < 1% of full scale (Target)\n\n## Known-Target Test Setup {#sec-known-target-setup}\n\nThe known-target test verifies that the complete MIT system detects conductive targets with the expected amplitude and phase response. Two probes are set up 1-3 meters apart (Target) with a known target (aluminum plate or steel bar) placed between them. This test validates both the detection sensitivity and the multi-frequency response characteristics.\n\n::: {.cell fig-height='5.5' fig-width='10' execution_count=5}\n\n::: {.cell-output .cell-output-display}\n![Known-target test configuration with two probes and calibration target. The aluminum plate provides a non-magnetic conductive target, allowing verification of eddy current detection without ferrous interference.](calibration_files/figure-pdf/fig-known-target-setup-output-1.png){#fig-known-target-setup}\n:::\n:::\n\n\n### Expected Results {#sec-expected-results}\n\n- Amplitude reduction: 10-50% depending on target size and distance (Modeled)\n- Phase lag: 5-30 degrees depending on frequency and target conductivity (Modeled)\n- Lower frequencies show deeper sensitivity (skin depth effect)\n- Response should scale predictably with target distance\n\n### Reciprocity Verification {#sec-reciprocity-verification}\n\nReciprocity checks are essential for validating measurement quality. For both MIT and ERT, swapping transmitter and receiver should yield equivalent measurements within error bounds:\n\n$$\n\\frac{|M_{A \\rightarrow B} - M_{B \\rightarrow A}|}{(M_{A \\rightarrow B} + M_{B \\rightarrow A})/2} \\times 100\\% < 5\\% \\text{ (Target)}\n$$ {#eq-reciprocity}\n\nwhere $M$ represents the measured quantity (voltage ratio for MIT, apparent resistivity for ERT).\n\n::: {.callout-tip}\n## Reciprocity Check Protocol\n\n1. Measure forward path (A transmit -> B receive)\n2. Measure reciprocal path (B transmit -> A receive)\n3. Calculate percent difference using @eq-reciprocity\n4. Flag measurements exceeding 5% (Target) for investigation\n5. Common causes of poor reciprocity: loose connections, electrode corrosion, coupling variations\n:::\n\nSystematic reciprocity errors indicate calibration drift or hardware issues. Random reciprocity failures suggest environmental noise or poor electrode contact. The pyGIMLi crosshole ERT examples recommend filtering data points with reciprocal error exceeding 5% (Manufacturer spec) before inversion.\n\n## Calibration Data Analysis {#sec-data-analysis}\n\nCalibration data should be plotted to verify system behavior matches expected models. The amplitude response shows the normalized signal strength versus frequency for both baseline (air) and with-target conditions. The phase response shows the phase angle change introduced by the target. Both measurements should fall within specified tolerances.\n\n::: {.cell fig-height='4.5' fig-width='10' execution_count=6}\n\n::: {.cell-output .cell-output-display}\n![Representative calibration data showing (a) amplitude response and (b) phase response across the MIT operating frequency range. Error bars indicate measurement uncertainty. The phase shift between baseline and with-target conditions provides target characterization information.](calibration_files/figure-pdf/fig-calibration-data-chart-output-1.png){#fig-calibration-data-chart}\n:::\n:::\n\n\n## ERT Calibration {#sec-ert-calibration}\n\n### Ring Isolation Verification {#sec-ring-isolation}\n\nVerify electrical isolation between ERT rings to ensure independent measurements. Measure resistance between all ring pairs, between rings and ground, and between rings and the probe rod. All measurements should exceed 1 M-ohm (Target). Lower values indicate contamination or insulation failure.\n\n### Current Source Calibration {#sec-current-source-calibration}\n\n1. Connect current source to test load (1 k-ohm precision resistor) (Target)\n2. Set commanded current level (start at 1 mA)\n3. Measure actual current with calibrated multimeter\n4. Calculate calibration factor: Cal = I_actual / I_commanded\n5. Test across full range: 0.5, 1.0, 1.5, 2.0 mA (Target)\n6. Record all values and average calibration factor\n\n## Error Analysis and Uncertainty Budget {#sec-error-analysis}\n\nScientific data reporting requires characterizing not just the measured value, but its uncertainty. The HIRT system has both systematic errors (consistent offsets that can be removed via calibration) and random errors (unpredictable fluctuations reduced by averaging).\n\n| Source | Type | Magnitude | Distribution |\n|--------|------|-----------|--------------|\n| Reference Resistor | Systematic | 0.1% (Manufacturer spec) | Rectangular |\n| ADC Quantization | Random | < 1 uV (Modeled) | Uniform |\n| Thermal Drift | Systematic | 50 ppm/C (Modeled) | Linear |\n| Probe Geometry | Random | +/- 1 cm (Target) | Normal |\n| Combined Uncertainty | Mixed | ~1-2% (Modeled) | (k=2) |\n\n: Typical uncertainty budget for HIRT measurements {#tbl-uncertainty-budget}\n\nAll final data products should be reported with 95% confidence intervals (k=2):\n\n$$\n\\text{Measurement} = X \\pm 2\\sigma\n$$\n\n## Field Quick-Check Procedure {#sec-field-quick-check}\n\nBefore each field deployment, perform these abbreviated checks to verify system readiness. This procedure takes approximately 15-30 minutes (Target) and can identify common issues before they affect data collection.\n\n::: {.callout-note}\n## Pre-Deployment Quick Check\n\n- Visual inspection: No visible damage, all connections secure\n- Power check: System powers on, LEDs functioning, communication established\n- Coil quick test: TX/RX connected (~1-2 mH) (Target), Q factor reasonable (>20) (Target)\n- ERT quick test: Rings isolated (>1 M-ohm) (Target), no shorts to ground\n- Coupling verification: Wave hand near coil and observe response\n:::\n\n## Recalibration Schedule {#sec-recalibration-schedule}\n\n| Trigger | Action |\n|---------|--------|\n| Before each field deployment | Quick check |\n| After repairs or modifications | Full calibration |\n| If measurements become inconsistent | Full calibration |\n| Every 6 months minimum | Full calibration |\n| After environmental exposure | Full calibration |\n\n: Recalibration schedule triggers and actions {#tbl-recalibration-schedule}\n\nCalibration is considered valid if: all measurements are within specifications, no repairs or modifications have been made since calibration, system performance remains consistent, and the calibration validity period has not expired (typically 6 months) (Target).\n\n## Documentation Requirements {#sec-calibration-documentation}\n\nMaintain complete calibration records for all probes in the system. Records should include probe identification, calibration date, calibrator name, all measured values with units, pass/fail status for each parameter, and recalibration due date. Store records in both digital and printed formats.\n\n::: {.callout-warning}\n## Calibration Record Retention\n\n- All probes must have current calibration records\n- Records must be available during field operations\n- Out-of-tolerance conditions must be documented\n- Probes failing calibration must not be deployed\n:::\n\n",
    "supporting": [
      "calibration_files/figure-pdf"
    ],
    "filters": []
  }
}